<div *ngFor="let sectionInfo of responses | keyvalue">
  <div class="card margin-bottom-15px alert-success-border" *ngIf="!section || (sectionInfo.key == section)">
    <div class="card-header alert-success cursor-pointer" (click)="toggleAndLoadTab.emit(sectionInfo.key)">
      {{ sectionInfo.key === 'None' ? 'No specific section' : sectionInfo.key }}
      <div class="card-header-btn-toolbar">
        <tm-panel-chevron [isExpanded]="sectionInfo.value.isTabExpanded"></tm-panel-chevron>
      </div>
    </div>
    <div *ngIf="sectionInfo.value.isTabExpanded" @collapseAnim>
      <div *tmIsLoading="!sectionInfo.value.hasPopulated" class="card-body">
        <tm-grq-rgq-view-responses [responses]="sectionInfo.value.questions || []" [section]="sectionInfo.key" [sectionType]="sectionType"
                                   [indicateMissingResponses]="indicateMissingResponses"
                                   [groupByTeam]="groupByTeam" [showStatistics]="showStatistics" [isGrq]="true" [session]="session"
                                   [isExpandAll]="isExpandAll" [instructorCommentTableModel]="instructorCommentTableModel"
                                   (instructorCommentTableModelChange)="triggerInstructorCommentTableModelChange($event)"
                                   (updateCommentEvent)="triggerUpdateCommentEvent($event)"
                                   (deleteCommentEvent)="triggerDeleteCommentEvent($event)"
                                   (saveNewCommentEvent)="triggerSaveNewCommentEvent($event)"
                                   style="margin-bottom: 20px;"></tm-grq-rgq-view-responses>
      </div>
    </div>
  </div>
</div>
